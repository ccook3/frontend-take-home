{"ast":null,"code":"\"use strict\";\n\"use client\";\n\nvar __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all) __defProp(target, name, {\n    get: all[name],\n    enumerable: true\n  });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from)) if (!__hasOwnProp.call(to, key) && key !== except) __defProp(to, key, {\n      get: () => from[key],\n      enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable\n    });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n// If the importer is in node compatibility mode or this is not an ESM\n// file that has been converted to a CommonJS file using a Babel-\n// compatible transform (i.e. \"__esModule\" has not been set), then set\n// \"default\" to the CommonJS \"module.exports\" for node compatibility.\nisNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", {\n  value: mod,\n  enumerable: true\n}) : target, mod));\nvar __toCommonJS = mod => __copyProps(__defProp({}, \"__esModule\", {\n  value: true\n}), mod);\n\n// packages/react/collection/src/index.ts\nvar src_exports = {};\n__export(src_exports, {\n  createCollection: () => createCollection\n});\nmodule.exports = __toCommonJS(src_exports);\n\n// packages/react/collection/src/collection.tsx\nvar import_react = __toESM(require(\"react\"));\nvar import_react_context = require(\"@radix-ui/react-context\");\nvar import_react_compose_refs = require(\"@radix-ui/react-compose-refs\");\nvar import_react_slot = require(\"@radix-ui/react-slot\");\nvar import_jsx_runtime = require(\"react/jsx-runtime\");\nfunction createCollection(name) {\n  const PROVIDER_NAME = name + \"CollectionProvider\";\n  const [createCollectionContext, createCollectionScope] = (0, import_react_context.createContextScope)(PROVIDER_NAME);\n  const [CollectionProviderImpl, useCollectionContext] = createCollectionContext(PROVIDER_NAME, {\n    collectionRef: {\n      current: null\n    },\n    itemMap: /* @__PURE__ */new Map()\n  });\n  const CollectionProvider = props => {\n    const {\n      scope,\n      children\n    } = props;\n    const ref = import_react.default.useRef(null);\n    const itemMap = import_react.default.useRef(/* @__PURE__ */new Map()).current;\n    return /* @__PURE__ */(0, import_jsx_runtime.jsx)(CollectionProviderImpl, {\n      scope,\n      itemMap,\n      collectionRef: ref,\n      children\n    });\n  };\n  CollectionProvider.displayName = PROVIDER_NAME;\n  const COLLECTION_SLOT_NAME = name + \"CollectionSlot\";\n  const CollectionSlot = import_react.default.forwardRef((props, forwardedRef) => {\n    const {\n      scope,\n      children\n    } = props;\n    const context = useCollectionContext(COLLECTION_SLOT_NAME, scope);\n    const composedRefs = (0, import_react_compose_refs.useComposedRefs)(forwardedRef, context.collectionRef);\n    return /* @__PURE__ */(0, import_jsx_runtime.jsx)(import_react_slot.Slot, {\n      ref: composedRefs,\n      children\n    });\n  });\n  CollectionSlot.displayName = COLLECTION_SLOT_NAME;\n  const ITEM_SLOT_NAME = name + \"CollectionItemSlot\";\n  const ITEM_DATA_ATTR = \"data-radix-collection-item\";\n  const CollectionItemSlot = import_react.default.forwardRef((props, forwardedRef) => {\n    const {\n      scope,\n      children,\n      ...itemData\n    } = props;\n    const ref = import_react.default.useRef(null);\n    const composedRefs = (0, import_react_compose_refs.useComposedRefs)(forwardedRef, ref);\n    const context = useCollectionContext(ITEM_SLOT_NAME, scope);\n    import_react.default.useEffect(() => {\n      context.itemMap.set(ref, {\n        ref,\n        ...itemData\n      });\n      return () => void context.itemMap.delete(ref);\n    });\n    return /* @__PURE__ */(0, import_jsx_runtime.jsx)(import_react_slot.Slot, {\n      ...{\n        [ITEM_DATA_ATTR]: \"\"\n      },\n      ref: composedRefs,\n      children\n    });\n  });\n  CollectionItemSlot.displayName = ITEM_SLOT_NAME;\n  function useCollection(scope) {\n    const context = useCollectionContext(name + \"CollectionConsumer\", scope);\n    const getItems = import_react.default.useCallback(() => {\n      const collectionNode = context.collectionRef.current;\n      if (!collectionNode) return [];\n      const orderedNodes = Array.from(collectionNode.querySelectorAll(`[${ITEM_DATA_ATTR}]`));\n      const items = Array.from(context.itemMap.values());\n      const orderedItems = items.sort((a, b) => orderedNodes.indexOf(a.ref.current) - orderedNodes.indexOf(b.ref.current));\n      return orderedItems;\n    }, [context.collectionRef, context.itemMap]);\n    return getItems;\n  }\n  return [{\n    Provider: CollectionProvider,\n    Slot: CollectionSlot,\n    ItemSlot: CollectionItemSlot\n  }, useCollection, createCollectionScope];\n}","map":{"version":3,"names":["src_exports","__export","createCollection","module","exports","__toCommonJS","import_react","__toESM","require","import_react_context","import_react_compose_refs","import_react_slot","import_jsx_runtime","name","PROVIDER_NAME","createCollectionContext","createCollectionScope","createContextScope","CollectionProviderImpl","useCollectionContext","collectionRef","current","itemMap","Map","CollectionProvider","props","scope","children","ref","default","useRef","jsx","displayName","COLLECTION_SLOT_NAME","CollectionSlot","forwardRef","forwardedRef","context","composedRefs","useComposedRefs","Slot","ITEM_SLOT_NAME","ITEM_DATA_ATTR","CollectionItemSlot","itemData","useEffect","set","delete","useCollection","getItems","useCallback","collectionNode","orderedNodes","Array","from","querySelectorAll","items","values","orderedItems","sort","a","b","indexOf","Provider","ItemSlot"],"sources":["/Users/catiecook/Documents/workos/frontend-take-home/client/node_modules/@radix-ui/react-collection/src/index.ts","/Users/catiecook/Documents/workos/frontend-take-home/client/node_modules/@radix-ui/react-collection/src/collection.tsx"],"sourcesContent":["'use client';\nexport { createCollection } from './collection';\nexport type { CollectionProps } from './collection';\n","import React from 'react';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { Slot } from '@radix-ui/react-slot';\n\ntype SlotProps = React.ComponentPropsWithoutRef<typeof Slot>;\ntype CollectionElement = HTMLElement;\ninterface CollectionProps extends SlotProps {\n  scope: any;\n}\n\n// We have resorted to returning slots directly rather than exposing primitives that can then\n// be slotted like `<CollectionItem as={Slot}>â€¦</CollectionItem>`.\n// This is because we encountered issues with generic types that cannot be statically analysed\n// due to creating them dynamically via createCollection.\n\nfunction createCollection<ItemElement extends HTMLElement, ItemData = {}>(name: string) {\n  /* -----------------------------------------------------------------------------------------------\n   * CollectionProvider\n   * ---------------------------------------------------------------------------------------------*/\n\n  const PROVIDER_NAME = name + 'CollectionProvider';\n  const [createCollectionContext, createCollectionScope] = createContextScope(PROVIDER_NAME);\n\n  type ContextValue = {\n    collectionRef: React.RefObject<CollectionElement | null>;\n    itemMap: Map<\n      React.RefObject<ItemElement | null>,\n      { ref: React.RefObject<ItemElement | null> } & ItemData\n    >;\n  };\n\n  const [CollectionProviderImpl, useCollectionContext] = createCollectionContext<ContextValue>(\n    PROVIDER_NAME,\n    { collectionRef: { current: null }, itemMap: new Map() }\n  );\n\n  const CollectionProvider: React.FC<{ children?: React.ReactNode; scope: any }> = (props) => {\n    const { scope, children } = props;\n    const ref = React.useRef<CollectionElement>(null);\n    const itemMap = React.useRef<ContextValue['itemMap']>(new Map()).current;\n    return (\n      <CollectionProviderImpl scope={scope} itemMap={itemMap} collectionRef={ref}>\n        {children}\n      </CollectionProviderImpl>\n    );\n  };\n\n  CollectionProvider.displayName = PROVIDER_NAME;\n\n  /* -----------------------------------------------------------------------------------------------\n   * CollectionSlot\n   * ---------------------------------------------------------------------------------------------*/\n\n  const COLLECTION_SLOT_NAME = name + 'CollectionSlot';\n\n  const CollectionSlot = React.forwardRef<CollectionElement, CollectionProps>(\n    (props, forwardedRef) => {\n      const { scope, children } = props;\n      const context = useCollectionContext(COLLECTION_SLOT_NAME, scope);\n      const composedRefs = useComposedRefs(forwardedRef, context.collectionRef);\n      return <Slot ref={composedRefs}>{children}</Slot>;\n    }\n  );\n\n  CollectionSlot.displayName = COLLECTION_SLOT_NAME;\n\n  /* -----------------------------------------------------------------------------------------------\n   * CollectionItem\n   * ---------------------------------------------------------------------------------------------*/\n\n  const ITEM_SLOT_NAME = name + 'CollectionItemSlot';\n  const ITEM_DATA_ATTR = 'data-radix-collection-item';\n\n  type CollectionItemSlotProps = ItemData & {\n    children: React.ReactNode;\n    scope: any;\n  };\n\n  const CollectionItemSlot = React.forwardRef<ItemElement, CollectionItemSlotProps>(\n    (props, forwardedRef) => {\n      const { scope, children, ...itemData } = props;\n      const ref = React.useRef<ItemElement>(null);\n      const composedRefs = useComposedRefs(forwardedRef, ref);\n      const context = useCollectionContext(ITEM_SLOT_NAME, scope);\n\n      React.useEffect(() => {\n        context.itemMap.set(ref, { ref, ...(itemData as unknown as ItemData) });\n        return () => void context.itemMap.delete(ref);\n      });\n\n      return (\n        <Slot {...{ [ITEM_DATA_ATTR]: '' }} ref={composedRefs}>\n          {children}\n        </Slot>\n      );\n    }\n  );\n\n  CollectionItemSlot.displayName = ITEM_SLOT_NAME;\n\n  /* -----------------------------------------------------------------------------------------------\n   * useCollection\n   * ---------------------------------------------------------------------------------------------*/\n\n  function useCollection(scope: any) {\n    const context = useCollectionContext(name + 'CollectionConsumer', scope);\n\n    const getItems = React.useCallback(() => {\n      const collectionNode = context.collectionRef.current;\n      if (!collectionNode) return [];\n      const orderedNodes = Array.from(collectionNode.querySelectorAll(`[${ITEM_DATA_ATTR}]`));\n      const items = Array.from(context.itemMap.values());\n      const orderedItems = items.sort(\n        (a, b) => orderedNodes.indexOf(a.ref.current!) - orderedNodes.indexOf(b.ref.current!)\n      );\n      return orderedItems;\n    }, [context.collectionRef, context.itemMap]);\n\n    return getItems;\n  }\n\n  return [\n    { Provider: CollectionProvider, Slot: CollectionSlot, ItemSlot: CollectionItemSlot },\n    useCollection,\n    createCollectionScope,\n  ] as const;\n}\n\nexport { createCollection };\nexport type { CollectionProps };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}